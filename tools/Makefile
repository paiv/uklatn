.PHONY: all
.PHONY: c
.PHONY: js
.PHONY: py
.PHONY: swift

PYTHON ?= python

all: c js py swift

c:
	@echo "/* Generated by gentables.py, do not edit. */\n" > ../c/_tables.c
	@$(PYTHON) gentables.py c >> ../c/_tables.c
	@echo "/* Generated by gentests.py, do not edit. */\n" > ../c/_tests.c
	@$(PYTHON) gentests.py c >> ../c/_tests.c

js:
	@echo "/* Generated by gentables.py, do not edit. */\n" > ../js/uklatn.js
	@$(PYTHON) gentables.py js >> ../js/uklatn.js
	@echo "/* Generated by gentests.py, do not edit. */\n" > ../js/testuklatn.js
	@$(PYTHON) gentests.py js >> ../js/testuklatn.js

py:
	@echo "#!/usr/bin/env python\n# Generated by gentables.py, do not edit.\n" > ../python/uklatn.py
	@$(PYTHON) gentables.py py >> ../python/uklatn.py
	@echo "# Generated by gentests.py, do not edit.\n" > ../python/tests/uklatn_tests.py
	@$(PYTHON) gentests.py py >> ../python/tests/uklatn_tests.py

swift:
	@echo "/* Generated by gentables.py, do not edit. */\n" > ../swift/Sources/UkrainianLatin/UKLatn.swift
	@$(PYTHON) gentables.py swift >> ../swift/Sources/UkrainianLatin/UKLatn.swift
	@echo "/* Generated by gentests.py, do not edit. */\n" > ../swift/Tests/UkrainianLatinTests/UKLatnTests.swift
	@$(PYTHON) gentests.py swift >> ../swift/Tests/UkrainianLatinTests/UKLatnTests.swift

